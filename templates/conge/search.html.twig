{% extends 'base.html.twig' %}

{% block title %}Recherche des congés{% endblock %}

{% block body %}
<h1>Rechercher les congés par ID d'employé</h1>

<form method="get" action="{{ path('app_conge_search') }}">
    <input type="text" name="idEmploye" placeholder="ID Employé" value="{{ idEmploye }}">
    <button type="submit">Rechercher</button>
</form>

{% if errorMessage %}
    <p style="color:red;">{{ errorMessage }}</p>
{% endif %}

{% if conges is not empty %}
    <table>
        <tr>
            <th>ID</th>
            <th>Date début</th>
            <th>Date fin</th>
            <th>Statut</th>
        </tr>
        {% for conge in conges %}
            <tr>
                <td>{{ conge.idConges }}</td>
                <td>{{ conge.dateDebut|date('Y-m-d') }}</td>
                <td>{{ conge.dateFin|date('Y-m-d') }}</td>
                <td>{{ conge.statut }}</td>
            </tr>
        {% endfor %}
    </table>
{% endif %}
{% endblock %}
